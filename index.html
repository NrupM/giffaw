<!DOCTYPE html>
<html lang="en">
	<head>
    <meta charset="utf-8">
		<!-- set viewport to device width to allow responsiveness -->
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Bootstrap CDN -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

		<!-- Custom CSS -->
		<link rel="stylesheet" href="styles/styles.css">

    <!-- JS -->
		<script src="http://code.jquery.com/jquery-2.2.2.min.js"></script>
    <!-- <script src="scripts/app.js"></script> -->

		<title>Giffaw</title>

	</head>
	<body>
		<div class="container">
			<h1 class="text-center">Giffaw</h1>
			<div class="row">
				<div class="col-sm-4">
					<form class="form-inline">
						<label>Search Gifs</label>
						<input type="text" class="form-control gif-input" name="q" placeholder="search gifs">
						<input type="hidden" name="api_key" value="9a081f0fb7c84d90919b35b4cc984fa0">
						<input type="submit" value="Go!" class="btn btn-primary">
					</form>
				</div>
				<div class="col-sm-8">
					<div class="gif-gallery"></div>
				</div>
			</div>
		</div>
		<script>
				$(document).on("ready", function(){
						// top 25 gifs on page load
						$.ajax({
							method: "GET",
							url:"http://api.giphy.com/v1/gifs/trending?api_key=9a081f0fb7c84d90919b35b4cc984fa0",
							dataType: "json",
							success: onSuccess
						});
						$("form").on("submit", function(event){
							event.preventDefault();
							$.ajax({
								method: "GET",
								url:"http://api.giphy.com/v1/gifs/search",
								data: $("form").serialize(),
								dataType: "json",
								success: onSubmitReqSuccess
							});
						});
				});
					//append top 25 gifs image results
					function onSuccess(responseData){
							var response = responseData;
							response.data.forEach(function(element){
								$(".gif-gallery").append('<img src="' + element.images.fixed_height.url + '">');
						});
					}
					//prepend 25 gifs search results
					function onSubmitReqSuccess(responseData){
							responseData.data.forEach(function(element){
								$(".gif-gallery").prepend('<img src="' + element.images.fixed_height.url + '">');
						});
					}


		</script>
	</body>
</html>
